function mapToJson(map: Map<any, any>): Record<string, any> {
    return Object.fromEntries(Array.from(map.entries()).map(([key, value]) => [
        String(key), // Konwersja klucza na string
        value instanceof Map ? mapToJson(value) : value // Rekurencyjna konwersja zagnieżdżonych Map
    ]));
}
