version: '3.8'

services:
  test-app:
    build: .
    container_name: test-app-container
    environment:
      - CYPRESS_RECORD_KEY=${CYPRESS_RECORD_KEY}
      - OTHER_ENV_VAR=${OTHER_ENV_VAR}
      - NODE_TLS_REJECT_UNAUTHORIZED=0
    ports:
      - "3000:3000"  # Przykładowy port, dostosuj do potrzeb
    volumes:
      - ./cypress/videos:/app/cypress/videos
      - ./cypress/screenshots:/app/cypress/screenshots
      - ./mochareports:/app/mochareports
      - ./logs:/app/logs
    command: ["npm", "run", "test"] # Zmień na odpowiednie polecenie
